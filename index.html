<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 ALT9 ì—°ë§ì •ì‚° í†µí•© ê°€ì´ë“œ</title>
    <link href="https://cdn.jsdelivr.net/gh/sun-typeface/SUIT/fonts/variable/woff2/SUIT-Variable.css" rel="stylesheet">
    <style>
        :root { --primary: #000000; --accent: #ff4d00; --bg: #ffffff; --card: #f8f8f8; }
        body { font-family: 'SUIT Variable', sans-serif; background-color: #eeeeee; color: var(--primary); display: flex; justify-content: center; min-height: 100vh; margin: 0; }
        #app { background: var(--bg); width: 100%; max-width: 480px; min-height: 100vh; display: flex; flex-direction: column; box-shadow: 0 20px 50px rgba(0,0,0,0.1); }
        .header { padding: 30px 20px; text-align: center; border-bottom: 1px solid #eee; position: sticky; top: 0; background: white; z-index: 10; }
        .header h1 { font-size: 12px; letter-spacing: 4px; text-transform: uppercase; margin: 0; color: #888; }
        .content { flex: 1; padding: 40px 25px; text-align: center; display: block; }
        .character-box { font-size: 50px; margin-bottom: 20px; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        h2 { font-size: 1.5rem; font-weight: 800; line-height: 1.4; margin-bottom: 30px; word-break: keep-all; }
        .btn { display: block; width: 100%; padding: 18px; margin-bottom: 12px; border: 1px solid var(--primary); background: transparent; color: var(--primary); font-size: 0.95rem; font-weight: 700; cursor: pointer; transition: 0.2s; text-decoration: none; text-align: center; }
        .btn:hover { background: var(--primary); color: white; }
        .btn-black { background: var(--primary); color: white; }
        .btn-gray { background: #f1f1f1; border-color: #f1f1f1; color: #666; margin-top: 5px; }
        .btn-prev { background: none; border: none; color: #999; text-decoration: underline; font-size: 0.85rem; margin-top: 15px; width: auto; display: inline-block; cursor: pointer; outline: none; }
        .result-title { font-size: 1.8rem; font-weight: 900; margin-bottom: 10px; }
        .doc-card { background: var(--card); border-left: 5px solid var(--primary); padding: 20px; text-align: left; margin: 20px 0; }
        .doc-item { margin-bottom: 15px; }
        .doc-item span { display: block; font-weight: 700; font-size: 0.95rem; margin-bottom: 4px; }
        .doc-item p { margin: 0; font-size: 0.85rem; color: #666; line-height: 1.4; }
        .doc-link { color: var(--primary); text-decoration: underline; font-size: 0.8rem; font-weight: 700; display: inline-block; margin-top: 5px; cursor: pointer; }
        .warning { background: #fff0f0; border: 1px solid #ffcccc; color: #d00; padding: 12px; border-radius: 8px; font-size: 0.8rem; font-weight: 700; text-align: left; }
        .hidden { display: none !important; }
        .divider { height: 1px; background: #eee; margin: 40px 0; }
        .step-tag { display: inline-block; padding: 4px 12px; background: #000; color: #fff; font-size: 10px; border-radius: 20px; margin-bottom: 10px; }
        .checklist-container { text-align: left; background: #fdfdfd; border: 1px solid #eee; padding: 20px; border-radius: 12px; margin-top: 20px; }
        .check-item { display: flex; align-items: flex-start; margin-bottom: 18px; padding-bottom: 15px; border-bottom: 1px dashed #eee; }
        .check-item:last-child { border-bottom: none; }
        .check-item input { margin-top: 3px; margin-right: 12px; width: 20px; height: 20px; accent-color: var(--primary); flex-shrink: 0; cursor: pointer; }
        .check-text { flex: 1; }
        .check-text label { cursor: pointer; display: block; }
        .check-text strong { display: block; font-size: 0.95rem; margin-bottom: 4px; }
        .check-text span { display: block; font-size: 0.8rem; color: #666; line-height: 1.4; }
    </style>
</head>
<body>

<div id="app">
    <div class="header"><h1>ALT9 TAX 2025</h1></div>
    
    <div id="step1-main" class="content">
        <div class="step-tag">STEP 01</div>
        <div class="character-box">ğŸ•¶ï¸</div>
        <h2>2025ë…„ ê·€ì† ì—°ë§ì •ì‚°<br>ë‚˜ì˜ íƒ€ì… í™•ì¸í•˜ê¸°</h2>
        <button class="btn btn-black" onclick="handleStart()">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
    </div>

    <div id="question-box" class="content hidden">
        <div id="q-emoji" class="character-box">â“</div>
        <h2 id="q-text">ì§ˆë¬¸</h2>
        <div id="q-options"></div>
        <button class="btn-prev" id="btn-back" onclick="goBack()">ì´ì „ ë‹¨ê³„ë¡œ</button>
    </div>

    <div id="step1-result" class="content hidden">
        <div class="step-tag">RESULT: TYPE</div>
        <div id="r1-emoji" class="character-box">âœ¨</div>
        <div id="r1-title" class="result-title">íƒ€ì…ëª…</div>
        <p id="r1-desc">ì„¤ëª…</p>
        <div class="warning">âš ï¸ ëª¨ë“  ì„œë¥˜ëŠ” "ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ë’·ìë¦¬ ê³µê°œ" í•„ìˆ˜!</div>
        <div class="doc-card" id="r1-docs"></div>
        <div class="divider"></div>
        <div class="step-tag" style="background:var(--accent)">STEP 02</div>
        <h2>ì£¼íƒìê¸ˆê³µì œ(ì£¼íƒë‹´ë³´ëŒ€ì¶œ/ì „ì„¸/ì›”ì„¸)ê´€ë ¨ ì–´ë–¤ ì„œë¥˜ê°€ í•„ìš”í• ê¹Œ?</h2>
        <button class="btn btn-black" onclick="handleStep2Start()">ğŸ  ì£¼íƒìê¸ˆ ê´€ë ¨ ì„œë¥˜ í™•ì¸í•˜ê¸°</button>
        <button class="btn btn-gray" onclick="handleEnd()">í•´ë‹¹ ì—†ìŒ (ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸ í™•ì¸)</button>
    </div>

    <div id="step2-result" class="content hidden">
        <div class="step-tag">RESULT: TOTAL</div>
        <div class="character-box">âœ…</div>
        <h2 class="result-title">ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
        <p>ì•Œí‹°í´ë‹˜ì„ ìœ„í•œ ë§ì¶¤í˜• ì„œë¥˜ ëª©ë¡ì…ë‹ˆë‹¤.</p>
        <div id="housing-fail-msg" class="warning hidden" style="margin-bottom: 20px; background: #fff8e1; border-color: #ffe082; color: #856404;">
            ì„ íƒí•˜ì‹  ì •ë³´ì— ë”°ë¥´ë©´ ì£¼íƒìê¸ˆ ê³µì œ ìš”ê±´ì— ë¶€í•©í•˜ì§€ ì•Šì•„ ê¸°ë³¸ ì„œë¥˜ë§Œ ì•ˆë‚´í•´ ë“œë¦½ë‹ˆë‹¤.
        </div>
        <div class="checklist-container" id="final-checklist"></div>
        <div class="divider"></div>
        <h2 style="font-size:1.2rem">í™˜ê¸‰ ë¹„ë‚˜ì´ë‹¤ğŸ™</h2>
        <button class="btn btn-black" onclick="location.reload()">ì²˜ìŒë¶€í„° ë‹¤ì‹œí•˜ê¸°</button>
    </div>
</div>

<script>
    // ëª¨ë“  ì„œë¥˜ ìƒì„¸ ë°ì´í„° ì •ì˜
    const docInfo = {
        WON: { name: "2025ë…„ ê·¼ë¡œì†Œë“ ì›ì²œì§•ìˆ˜ì˜ìˆ˜ì¦", desc: "ì´ì „ ì§ì¥ ì¸ì‚¬/ê²½ì˜ì§€ì›íŒ€ì— ì§ì ‘ ë¬¸ì˜í•˜ì—¬ ë°œê¸‰(ì´ì „ì§ì¥ 2ê³³ ì´ìƒì¼ ê²½ìš°, ê°ê° ìš”ì²­í•´ì„œ ë°›ìœ¼ì…”ì•¼í•©ë‹ˆë‹¤(ì´ 2ê°œ)", link: "" },
        DUNG: { name: "ì£¼ë¯¼ë“±ë¡ë“±ë³¸", desc: "ì •ë¶€24 ë°œê¸‰", link: "https://www.gov.kr/mw/EgovPageLink.do?link=yearend/yearend_main_issue_6type" },
        MARRY: { name: "í˜¼ì¸ê´€ê³„ì¦ëª…ì„œ (í•´ë‹¹ì)", desc: "2025ë…„ ê²°í˜¼ ë° í˜¼ì¸ì‹ ê³ (í•„ìˆ˜)ë¡œ ë°°ìš°ì ì¶”ê°€ ì‹œ", link: "https://efamily.scourt.go.kr/index.jsp" },
        HOME_MORT: { name: "ê±´ë¬¼ë“±ê¸°ë¶€ë“±ë³¸", desc: "ëŒ€ë²•ì› ì¸í„°ë„·ë“±ê¸°ì†Œ ë°œê¸‰", link: "http://www.iros.go.kr/" },
        HOME_PRICE: { name: "ê°œë³„/ê³µë™ì£¼íƒê³µì‹œê°€ê²©í™•ì¸ì„œ", desc: "ë¶€ë™ì‚°ê³µì‹œê°€ê²© ì•Œë¦¬ë¯¸ í™•ì¸", link: "https://www.realtyprice.kr/" },
        RENT_CONTRACT: { name: "ì„ëŒ€ì°¨ê³„ì•½ì„œ ì‚¬ë³¸", desc: "í™•ì •ì¼ìê°€ ì°íŒ ê³„ì•½ì„œ ì‚¬ë³¸ ì¤€ë¹„", link: "" },
        RENT_CASH: { name: "ì›”ì„¸ì•¡ ì…ê¸ˆ ê³„ì¢Œì´ì²´ì˜ìˆ˜ì¦", desc: "ë˜ëŠ” ë¬´í†µì¥ì…ê¸ˆì¦ ì¤€ë¹„ (ë‹¨, êµ­ì„¸ì²­ê°„ì†Œí™”ìë£Œì— ë‚˜ì˜¤ë©´ ìƒëµ ê°€ëŠ¥)", link: "" },
        GANSO: { name: "êµ­ì„¸ì²­ ê°„ì†Œí™” ìë£Œ", desc: "PDF ë‹¤ìš´ë¡œë“œ ì‹œ ê°œì¸ì •ë³´ê³µê°œë¡œ ì²´í¬ í•„ìˆ˜", link: "https://www.hometax.go.kr/" }
    };

    let selectedDocs = new Set();
    let isHousingFail = false;
    let historyStack = [];
    let currentMode = "";

    const step1Data = {
        q1: { text: "2025ë…„ ì´ì „ë¶€í„°<br>ì•ŒíŠ¸ë‚˜ì¸ì— ì¬ì§ ì¤‘ì´ì‹ ê°€ìš”?", emoji: "ğŸ¢", options: [{text: "ë„¤, ê³„ì† ê·¼ë¬´ ì¤‘", next: "q2a"}, {text: "ì•„ë‹ˆìš”, 2025ë…„ ì…ì‚¬", next: "q2b"}] },
        q2a: { text: "2025ë…„ í•œ í•´ ë™ì•ˆ<br>ê°€ì¡± ê´€ê³„ì— ë³€ë™ì´ ìˆì—ˆë‚˜ìš”?", emoji: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§", options: [{text: "ë³€ë™ ì—†ìŒ", type: "A"}, {text: "ê°€ì¡±ì´ ëŠ˜ì—ˆì–´ìš”!", type: "B"}] },
        q2b: { text: "ì•ŒíŠ¸ë‚˜ì¸ ì…ì‚¬ ì „(2025ë…„ ì¤‘),<br>ì´ì „ ì§ì¥ì—ì„œ ê·¼ë¬´í•˜ì…¨ë‚˜ìš”?", emoji: "ğŸ’¼", options: [{text: "ë„¤, ì „ ì§ì¥ ìˆìŒ", type: "C"}, {text: "ì•„ë‹ˆìš”, ì²« ì§ì¥", type: "D"}] }
    };

    const step1Results = {
        A: { title: "ì•ŒíŠ¸ë‚˜ì¸ ì‹œì¡°ìƒˆ", desc: "ë³€í•¨ì—†ëŠ” ì•Œí‹°í´! ì‘ë…„ê³¼ ë˜‘ê°™ì´!", emoji: "ğŸ¦", docs: ["GANSO"] },
        B: { title: "ê°€ì¡±ì´ ëŠ˜ì—ˆì–´ìš”!", desc: "í–‰ë³µì´ 2ë°°! ê°€ì¡±ê³¼ í•¨ê»˜í•˜ëŠ”!", emoji: "ğŸ’–", docs: ["DUNG", "MARRY"] },
        C: { title: "ë‰´í˜ì´ìŠ¤", desc: "ì•ŒíŠ¸ë‚˜ì¸ ì ì‘ì™„ë£Œ! ê¸°ë¡ í•©ì‚° í•„ìˆ˜!", emoji: "â˜„ï¸", docs: ["WON", "DUNG", "MARRY"] },
        D: { title: "ì‚ì•½", desc: "ëª¨ë“  ê²ƒì´ ìƒˆë¡œìš´ ì‹ ì…ì…ë‹ˆë‹¤!", emoji: "ğŸ£", docs: ["DUNG"] }
    };

    const step2Data = {
        q1: { text: "ì£¼íƒ ê³µì œ ê´€ë ¨,<br>ë‚˜ëŠ” ì„¸ëŒ€ì£¼ or ì„¸ëŒ€ì›ì¸ê°€ìš”?", emoji: "ğŸ”‘", options: [{text: "ë‚˜ëŠ” ì„¸ëŒ€ì£¼ì´ë‹¤", next: "q2_house"}, {text: "ë‚˜ëŠ” ì„¸ëŒ€ì›ì´ë‹¤", type: "FAIL"}] },
        q2_house: { text: "2025ë…„ 12ì›” 31ì¼ ê¸°ì¤€<br>ì£¼íƒ ì†Œìœ  í˜„í™©ì€?", emoji: "ğŸ ", options: [{text: "ë¬´ì£¼íƒìì´ë‹¤", next: "q3_loan"}, {text: "1ì£¼íƒ ì†Œìœ ìì´ë‹¤", next: "q3_mortgage"}] },
        q3_loan: { text: "í˜„ì¬ ê±°ì£¼ í˜•íƒœëŠ”?", emoji: "ğŸ¢", options: [{text: "ì „ì„¸ëŒ€ì¶œì´ ìˆë‹¤", next: "q4_jeonse_size"}, {text: "ì›”ì„¸ë¥¼ ë‚©ë¶€ ì¤‘ì´ë‹¤", next: "q4_wolse_salary"}] },
        q3_mortgage: { text: "ì£¼íƒ ê´€ë ¨ ëŒ€ì¶œì´ ìˆë‚˜ìš”?", emoji: "ğŸ¦", options: [{text: "ì£¼íƒë‹´ë³´ëŒ€ì¶œì´ ìˆë‹¤", next: "q4_mort_year"}, {text: "ëŒ€ì¶œ ì—†ë‹¤", type: "FAIL"}] },
        q4_jeonse_size: { text: "êµ­ë¯¼ì£¼íƒê·œëª¨(ì „ìš©ë©´ì  85ã¡ì´í•˜)ì˜<br>ì£¼íƒ(ì˜¤í”¼ìŠ¤í…” í¬í•¨)ì¸ê°€ìš”?", emoji: "ğŸ“", options: [{text: "ë„¤, í•´ë‹¹í•©ë‹ˆë‹¤", type: "JEONSE"}, {text: "ì•„ë‹ˆìš”, ë” í½ë‹ˆë‹¤", type: "FAIL"}] },
        q4_wolse_salary: { text: "2025ë…„ ì´ ê¸‰ì—¬ì•¡ì´<br>8ì²œë§Œ ì› ì´í•˜ì¸ê°€ìš”?", emoji: "ğŸ’°", options: [{text: "ë„¤, ì´í•˜ì…ë‹ˆë‹¤", next: "q5_wolse_size"}, {text: "ì•„ë‹ˆìš”, ì´ˆê³¼ì…ë‹ˆë‹¤", type: "FAIL"}] },
        q5_wolse_size: { text: "êµ­ë¯¼ì£¼íƒê·œëª¨(ì „ìš©ë©´ì  85ã¡ì´í•˜)ì˜<br>ì£¼íƒ(ì˜¤í”¼ìŠ¤í…” í¬í•¨)ì¸ê°€ìš”?", emoji: "ğŸ ", options: [{text: "ë„¤, í•´ë‹¹í•©ë‹ˆë‹¤", type: "WOLSE"}, {text: "ì•„ë‹ˆìš”, ë” í½ë‹ˆë‹¤", type: "FAIL"}] },
        q4_mort_year: { text: "ì–¸ì œ ì§‘ì„ êµ¬ë§¤(ë“±ê¸°)í•˜ì…¨ë‚˜ìš”?", emoji: "ğŸ“…", options: [{text: "2014ë…„ ~ 2018ë…„", next: "q5_mort_1418"}, {text: "2019ë…„ ~ 2023ë…„", next: "q5_mort_1923"}, {text: "2024ë…„ ì´í›„", next: "q5_mort_24"}] },
        q5_mort_1418: { text: "êµ¬ë§¤ ë‹¹ì‹œ ê¸°ì¤€ì‹œê°€ê°€<br>4ì–µ ì› ì´í•˜ì¸ê°€ìš”?", emoji: "ğŸ’¸", options: [{text: "ë„¤, ì´í•˜ì…ë‹ˆë‹¤", type: "OWN"}, {text: "ì•„ë‹ˆìš”, ì´ˆê³¼ì…ë‹ˆë‹¤", type: "FAIL"}] },
        q5_mort_1923: { text: "êµ¬ë§¤ ë‹¹ì‹œ ê¸°ì¤€ì‹œê°€ê°€<br>5ì–µ ì› ì´í•˜ì¸ê°€ìš”?", emoji: "ğŸ’¸", options: [{text: "ë„¤, ì´í•˜ì…ë‹ˆë‹¤", type: "OWN"}, {text: "ì•„ë‹ˆìš”, ì´ˆê³¼ì…ë‹ˆë‹¤", type: "FAIL"}] },
        q5_mort_24: { text: "êµ¬ë§¤ ë‹¹ì‹œ ê¸°ì¤€ì‹œê°€ê°€<br>6ì–µ ì› ì´í•˜ì¸ê°€ìš”?", emoji: "ğŸ’¸", options: [{text: "ë„¤, ì´í•˜ì…ë‹ˆë‹¤", type: "OWN"}, {text: "ì•„ë‹ˆìš”, ì´ˆê³¼ì…ë‹ˆë‹¤", type: "FAIL"}] }
    };

    function showView(viewId) {
        document.querySelectorAll('.content').forEach(el => el.classList.add('hidden'));
        document.getElementById(viewId).classList.remove('hidden');
    }

    function handleStart() {
        currentMode = "step1";
        historyStack = ['main'];
        selectedDocs.clear();
        isHousingFail = false;
        showView('question-box');
        renderQuestion(step1Data, 'q1');
    }

    function handleStep2Start() {
        currentMode = "step2";
        historyStack = ['step1-result'];
        showView('question-box');
        renderQuestion(step2Data, 'q1');
    }

    function renderQuestion(dataSource, qKey) {
        const q = dataSource[qKey];
        document.getElementById('q-emoji').innerText = q.emoji;
        document.getElementById('q-text').innerHTML = q.text;
        const box = document.getElementById('q-options');
        box.innerHTML = '';
        q.options.forEach(opt => {
            const b = document.createElement('button');
            b.className = 'btn';
            b.innerHTML = opt.text;
            b.onclick = () => {
                historyStack.push(qKey);
                if(opt.next) renderQuestion(dataSource, opt.next);
                else finishStep(opt.type);
            };
            box.appendChild(b);
        });
    }

    function goBack() {
        const last = historyStack.pop();
        if(!last) return;
        if(last === 'main') showView('step1-main');
        else if(last === 'step1-result') showView('step1-result');
        else renderQuestion(currentMode === "step1" ? step1Data : step2Data, last);
    }

    function finishStep(type) {
        if(currentMode === "step1") {
            showView('step1-result');
            const res = step1Results[type];
            res.docs.forEach(d => selectedDocs.add(d));
            document.getElementById('r1-emoji').innerText = res.emoji;
            document.getElementById('r1-title').innerText = res.title;
            document.getElementById('r1-desc').innerText = res.desc;
            let html = "";
            res.docs.forEach(k => {
                const info = docInfo[k];
                html += `<div class="doc-item">
                            <span>â€¢ ${info.name}</span>
                            <p>${info.desc}</p>
                            ${info.link ? `<a href="${info.link}" target="_blank" class="doc-link">ë°œê¸‰ ë°”ë¡œê°€ê¸° ></a>` : ""}
                         </div>`;
            });
            document.getElementById('r1-docs').innerHTML = html;
        } else {
            const resData = { JEONSE: ["RENT_CONTRACT"], WOLSE: ["RENT_CONTRACT", "RENT_CASH"], OWN: ["HOME_MORT", "HOME_PRICE"], FAIL: [], NONE: [] };
            if(type === "FAIL") isHousingFail = true;
            if(resData[type]) resData[type].forEach(d => selectedDocs.add(d));
            renderFinal();
        }
    }

    function renderFinal() {
        showView('step2-result');
        const container = document.getElementById('final-checklist');
        const failMsg = document.getElementById('housing-fail-msg');
        isHousingFail ? failMsg.classList.remove('hidden') : failMsg.classList.add('hidden');
        let html = "";
        selectedDocs.forEach(key => {
            const info = docInfo[key];
            html += `<div class="check-item">
                        <input type="checkbox" id="ck-${key}">
                        <div class="check-text">
                            <label for="ck-${key}"><strong>${info.name}</strong><span>${info.desc}</span></label>
                            ${info.link ? `<a href="${info.link}" target="_blank" class="doc-link">ë°œê¸‰ ë°”ë¡œê°€ê¸° ></a>` : ""}
                        </div>
                     </div>`;
        });
        container.innerHTML = html || "<p>ì¤€ë¹„í•  ì¦ë¹™ ì„œë¥˜ê°€ ì—†ìŠµë‹ˆë‹¤.</p>";
    }

    function handleEnd() { renderFinal(); }
</script>
</body>

</html>

